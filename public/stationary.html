<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>new_page</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="stationaryStyle.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.4/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-DQvkBjpPgn7RC31MCQoOeC9TI2kdqa4+BSgNMNj8v77fdC77Kj5zpWFTJaaAoMbC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.4/dist/js/bootstrap.bundle.min.js" integrity="sha384-YUe2LzesAfftltw+PEaao2tjU/QATaW/rOitAq67e0CT0Zi2VVRL0oC4+gAaeBKu" crossorigin="anonymous"></script>       
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
      </head>
      <body>
    
        <!--Nav Bar-->
        <nav class="navbar bg-body-tertiary fixed-top">
          <div class="container-fluid">
            <a class="navbar-brand" href="#">TheLocalBasket</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
              <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasNavbarLabel">ourShop</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
              </div>
              <div class="offcanvas-body">
                <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="Login.html">Admins only</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="cosmetic.html">Cosmetic</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="stationary.html">Stationary</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="index.html">Pickles</a>
                  </li>
                </ul>
                <form class="d-flex mt-3" role="search">
                  <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
              </div>
            </div>
          </div>
        </nav>
        <br>
        <br>
        <div class="col-md-6 text-end">
      <button class="btn btn-light cart-button" id="openCartBtn">
          <i class="bi bi-cart3"></i> View Cart
          <span class="badge bg-danger rounded-pill" id="cartCount">0</span>
      </button>
  </div>
   
        <!--Cards-->
          <div class="container">
            <div class="col-md-12">
              <div class="row g-4">
                <div class="col-md-3 col-6">
                  <div class="product-card">
                    <img class="imgStyle" src="images/kb.jpg">
                    <div class="description" data-id="1"data-name="Keyboard"data-price="2000">
                      <h3 class="item-name">Keyboard</h3>
                      <p class="item-desc">Smooth Typing</p>
                      <p class="item-rate"><i class="bi bi-currency-rupee"></i> 2000</p>
                      <button class="btn btn-primary w-100" onclick="addToCart('p6', 'Banana Chips', 99)">Add to Cart</button>                    </div>
                  </div>

                </div>
                <div class="col-md-3 col-6">
                  <div class="product-card">
                    <img class="imgStyle" src="images/mouse.jpg">
                    <div class="description" data-id="2"data-name="Mouse"data-price="500">
                      <h3 class="item-name">Mouse</h3>
                      <p class="item-desc">Wired Mouse</p>
                      <p class="item-rate"><i class="bi bi-currency-rupee"></i> 500</p>
                      <button class="btnSty" onclick="addToCart(this)"> Add to Cart</button>
                    </div>
                  </div>
          
                </div>
                <div class="col-md-3 col-6">
                  <div class="product-card">
                    <img class="imgStyle" src="images/keychain2.jpg">
                    <div class="description" data-id="3"data-name="Keychain"data-price="150">
                      <h3 class="item-name">Keychain</h3>
                      <p class="item-desc">Apple Keychain</p>
                      <p class="item-rate"><i class="bi bi-currency-rupee"></i> 150</p>
                      <button class="btnSty" onclick="addToCart(this)"> Add to Cart</button>
                    </div>
                  </div>
          
                </div>
                <div class="col-md-3 col-6">
                  <div class="product-card">
                    <img class="imgStyle" src="images/tumbler 1.jpg">
                    <div class="description" data-id="4"data-name="Tumbler"data-price="1500">
                      <h3 class="item-name">Tumbler</h3>
                      <p class="item-desc">Tumbler Bottle with Straw</p>
                      <p class="item-rate"><i class="bi bi-currency-rupee"></i> 1500</p>
                      <button class="btnSty" onclick="addToCart(this)"> Add to Cart</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        <!--Footer-->
    <section class="footer" >
      <div>

          <h4>Social Links</h4>
          <a href="#" style="color: white;">
          <i class="bi bi-facebook" style="font-size: 1.5rem;"></i></a>

          <span style="margin-left: 10px;">
            <a href="#" style="color: white;">
            <i class="bi bi-instagram" style="font-size: 1.5rem;"></i></a>
          </span>
  
          <span style="margin-left: 10px;">
            <a href="https://wa.me/+919609010193" style="color: white;">
            <i class="bi bi-whatsapp" style="font-size: 1.5rem;"></i></a>
          </span>

      </div>
    </section>
      <!-- Cart Modal Structure -->
<div class="modal fade" id="cart-modal" tabindex="-1">
  <div class="modal-dialog modal-lg">
      <div class="modal-content">
          <div class="modal-header bg-light">
              <h5 class="modal-title">Your Shopping Cart</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
              <!-- Cart items will be rendered here -->
          </div>
          <div class="modal-footer">
              <!-- Buttons will be added dynamically -->
          </div>
      </div>
  </div>
</div>
 <!-- Cart Modal -->
 <div class="modal fade" id="cartModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title"><i class="bi bi-cart3"></i> Your Shopping Cart</h5>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body" id="cartBody">
              <!-- Cart items will be rendered here -->
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Continue Shopping</button>
              <button type="button" class="btn btn-success btn-checkout" id="checkoutBtn">Proceed to Checkout</button>
          </div>
      </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Cart array to store items
  let cart = [];
  
  // DOM elements
  const openCartBtn = document.getElementById('openCartBtn');
  const cartModal = new bootstrap.Modal(document.getElementById('cartModal'));
  const cartBody = document.getElementById('cartBody');
  const cartCount = document.getElementById('cartCount');
  const checkoutBtn = document.getElementById('checkoutBtn');
  
  // Open cart modal
  openCartBtn.addEventListener('click', () => {
      renderCart();
      cartModal.show();
  });
  
  // Add to cart function
  function addToCart(id, name, price) {
      const existingItem = cart.find(item => item.id === id);
      
      if (existingItem) {
          existingItem.qty++;
      } else {
          cart.push({
              id: id,
              name: name,
              price: price,
              qty: 1
          });
      }
      
      // Update cart count
      cartCount.textContent = cart.reduce((sum, item) => sum + item.qty, 0);
      
      // Show success message
      showAlert(`${name} added to cart!`, 'success');
      
      // Re-render cart if modal is open
      if (document.getElementById('cartModal').classList.contains('show')) {
          renderCart();
      }
  }
  
  // Remove from cart function
  function removeFromCart(id) {
      cart = cart.filter(item => item.id !== id);
      renderCart();
      cartCount.textContent = cart.reduce((sum, item) => sum + item.qty, 0);
  }
  
  // Increase quantity function
  function increaseQty(id) {
      const item = cart.find(item => item.id === id);
      if (item) {
          item.qty++;
          renderCart();
          cartCount.textContent = cart.reduce((sum, item) => sum + item.qty, 0);
      }
  }
  
  // Decrease quantity function
  function decreaseQty(id) {
      const item = cart.find(item => item.id === id);
      if (item) {
          item.qty--;
          if (item.qty < 1) {
              removeFromCart(id);
          } else {
              renderCart();
              cartCount.textContent = cart.reduce((sum, item) => sum + item.qty, 0);
          }
      }
  }
  
  // Render cart function
  function renderCart() {
      cartBody.innerHTML = "";
      
      if (cart.length === 0) {
          cartBody.innerHTML = `
              <div class="empty-cart">
                  <i class="bi bi-cart-x"></i>
                  <h4>Your cart is empty</h4>
                  <p>Add some products to your cart</p>
              </div>
          `;
          return;
      }
      
      cart.forEach(item => {
          const itemDiv = document.createElement('div');
          itemDiv.className = 'cart-item';
          itemDiv.innerHTML = `
              <div class="row align-items-center">
                  <div class="col-md-5">
                      <strong>${item.name}</strong>
                  </div>
                  <div class="col-md-2">
                      <div class="d-flex align-items-center">
                          <button class="btn btn-sm btn-outline-secondary quantity-btn" onclick="decreaseQty('${item.id}')">-</button>
                          <span class="mx-2">${item.qty}</span>
                          <button class="btn btn-sm btn-outline-secondary quantity-btn" onclick="increaseQty('${item.id}')">+</button>
                      </div>
                  </div>
                  <div class="col-md-2 text-end">
                      Rs. ${item.price.toLocaleString()}
                  </div>
                  <div class="col-md-2 text-end fw-bold">
                      Rs. ${(item.price * item.qty).toLocaleString()}
                  </div>
                  <div class="col-md-1 text-center">
                      <button class="btn btn-sm btn-link text-danger" onclick="removeFromCart('${item.id}')">
                          <i class="bi bi-trash"></i>
                      </button>
                  </div>
              </div>
          `;
          cartBody.appendChild(itemDiv);
      });
      
      const total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
      const totalDiv = document.createElement('div');
      totalDiv.className = 'total-row';
      totalDiv.innerHTML = `
          <div class="row">
              <div class="col-8 text-end">Subtotal:</div>
              <div class="col-4 text-end">Rs. ${total.toLocaleString()}</div>
          </div>
          <div class="row">
              <div class="col-8 text-end">Shipping:</div>
              <div class="col-4 text-end">Rs. ${total > 0 ? '200' : '0'}</div>
          </div>
          <div class="row mt-2">
              <div class="col-8 text-end"><h5>Total:</h5></div>
              <div class="col-4 text-end"><h5>Rs. ${(total > 0 ? total + 200 : 0).toLocaleString()}</h5></div>
          </div>
          
          <div class="mt-4">
              <h5><i class="bi bi-truck"></i> Shipping Information</h5>
              <div class="mb-3">
                  <input type="text" class="form-control" placeholder="Full Name">
              </div>
              <div class="mb-3">
                  <textarea class="form-control" placeholder="Shipping Address" rows="2"></textarea>
              </div>
              <div class="mb-3">
                  <input type="tel" class="form-control" placeholder="Contact Number">
              </div>
          </div>
      `;
      cartBody.appendChild(totalDiv);
  }
  
  // Checkout button handler
  checkoutBtn.addEventListener('click', () => {
      if (cart.length === 0) {
          showAlert('Your cart is empty!', 'warning');
          return;
      }
      
      cartModal.hide();
      showAlert('Order placed successfully!', 'success');
      cart = [];
      cartCount.textContent = '0';
  });
  
  // Show alert function
  function showAlert(message, type) {
      // Remove existing alerts
      const existingAlert = document.querySelector('.alert');
      if (existingAlert) existingAlert.remove();
      
      const alertDiv = document.createElement('div');
      alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
      alertDiv.style.position = 'fixed';
      alertDiv.style.top = '20px';
      alertDiv.style.right = '20px';
      alertDiv.style.zIndex = '9999';
      alertDiv.innerHTML = `
          ${message}
          <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      `;
      
      document.body.appendChild(alertDiv);
      
      // Auto remove after 3 seconds
      setTimeout(() => {
          alertDiv.remove();
      }, 3000);
  }
</script>

  </body>
          
</html>